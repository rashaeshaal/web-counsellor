<!-- Header -->
<div class="header">
  <h2>Counsellor User Management</h2>
  <!-- Loading spinner can be added here if needed -->
</div>

<!-- Search & Filter -->
<div class="search-filter">
  <input
    type="text"
    placeholder="Search by name or email..."
    [(ngModel)]="search"
    class="search-input"
  />
  <select
    [(ngModel)]="statusFilter"
    class="filter-select"
  >
    <option value="">All Statuses</option>
    <option value="active">Active</option>
    <option value="inactive">Inactive</option>
    <option value="approved">Approved</option>
    <option value="unapproved">Unapproved</option>
  </select>
</div>

<!-- Table -->
<div class="table-container">
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Phone</th>
        <th>Qualification</th>
        <th>Status</th>
        <th>Approved</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let counsellor of filteredCounsellors">
        <td>{{ counsellor.name }}</td>
        <td>{{ counsellor.email }}</td>
        <td>{{ counsellor.phone_number }}</td>
        <td>{{ counsellor.qualification }}</td>
        <td>
          <span [class.active]="counsellor.is_active" [class.inactive]="!counsellor.is_active">
            {{ counsellor.is_active ? 'Active' : 'Inactive' }}
          </span>
        </td>
        <td>
          <span [class.approved]="counsellor.is_approved" [class.unapproved]="!counsellor.is_approved">
            {{ counsellor.is_approved ? 'Approved' : 'Unapproved' }}
          </span>
        </td>
        <td class="actions">

          <button *ngIf="counsellor.id !== undefined" (click)="deleteCounsellor(counsellor.id)" title="Delete">Delete</button>
          <button (click)="toggleApprove(counsellor)" [title]="counsellor.is_approved ? 'Unapprove' : 'Approve'">
            {{ counsellor.is_approved ? 'Unapprove' : 'Approve' }}
          </button>
          <button (click)="toggleActive(counsellor)" [title]="counsellor.is_active ? 'Deactivate' : 'Activate'">
            {{ counsellor.is_active ? 'Deactivate' : 'Activate' }}
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
